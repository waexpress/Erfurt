<!doctype html>
<html lang="de">
   <head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta http-equiv="Content-Security-Policy" content="default-src * gap:; style-src 'self' 'unsafe-inline' *; script-src 'self' 'unsafe-inline' 'unsafe-eval' *">
    
		<title>Erfurt-App</title>
		
		<link rel="stylesheet" href="../../themes/ErfurtApp1.min.css" />
	<link rel="stylesheet" href="../../themes/jquery.mobile.icons.min.css" />
	<link rel="stylesheet" href="../../jquery.mobile.structure-1.4.5.min.css" />
	<script src="../../jquery-1.11.1.min.js"></script>
	<script src="../../jquery.mobile-1.4.5.min.js"></script>
    
    <script type="text/javascript" src="../../cordova.js"></script>
    
    
<!-- Beginn Map -->    
    
<script src="http://maps.google.com/maps/api/js?key=AIzaSyAPEMcihOwANhwOTYATloJCchwiiaFvMoM&sensor=false&language=de&libraries=places"></script>

<script>
var currentLocationMap;
var directionsDisplay;
var directionsService = new google.maps.DirectionsService();
var currentLocationMap;
var latitude;
var longitude;

document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() 
{
   // note, it takes a few seconds for the gps to work, so you need to give a high timeout value
   var options = {maximumAge: 1000, timeout: 50000, enableHighAccuracy: true};
   navigator.geolocation.getCurrentPosition(onGeolocationSuccess, onGeolocationError, options);
}

function onGeolocationSuccess(position) 
{
   latitude = position.coords.latitude;
   longitude = position.coords.longitude;

   // set the value for the Current Location selection  
   document.getElementById('currentLocationOption').value = latitude.toString()+","+longitude.toString();
   
   // Show the controlPanel
   
   
   // route planner
   directionsDisplay = new google.maps.DirectionsRenderer();
   var currentLocationMap = new google.maps.LatLng(50.973744, 11.035434);
   var mapOptions = {zoom:15, center: currentLocationMap};
   currentLocationMap = new google.maps.Map(document.getElementById('geolocationDetails'), mapOptions);
   
   var marker = new google.maps.Marker({
    position: {lat: 50.973744, lng: 11.035434},
    map: geolocationDetails
  	});

	// To add the marker to the map, call setMap();
	marker.setMap(currentLocationMap);
   

   // assign the directionsDisplay to the map
   directionsDisplay.setMap(currentLocationMap);
   
   // add directions to the route
   directionsDisplay.setPanel(document.getElementById('directions'));
}

function onGeolocationError(error) 
{
   document.getElementById('geolocationDetails').innerHTML = 'code: ' + error.code + '<br>' +
                                                             'message: ' + error.message + '<br>';
}

function calculateRoute() 
{
   var start = document.getElementById('start').value;
   var end = document.getElementById('end').value;
  
   var request = {origin:start,
                  destination:end,
                  travelMode: google.maps.TravelMode.DRIVING};
				  
  directionsService.route(request, function(response, status) 
     { if (status == google.maps.DirectionsStatus.OK) 
	   {
          directionsDisplay.setDirections(response);
       }});
}
</script>
        
<!-- Ende Map -->
        
    </head>
    <body>
		<div data-role="page">
			
			<div data-role="content">
   				
                <img src="bestwestern.jpg" width="100%" />
    			<h3>Best Western Plus Hotel Excelsior ****</h3>
    			<p align="justify">Das 4-Sterne Best Western Plus Hotel Excelsior ist im Stadtzentrum von Erfurt gelegen. Die historische Altstadt mit ihren zahlreichen Sehenswürdigkeiten ist nur wenige Gehminuten entfernt.
Im Hotel erwarten Sie 74 komfortabel eingerichtete Zimmer und 3 Suiten. Das Haus verfügt über 2 Konferenzräume und kostenfreies WLAN. Die hauseigene Sauna lädt zum Relaxen ein. Am Abend können Sie Getränke und Snacks in unserer modernen Hotelbar genießen.</p>

				<div align="center" data-role="controlgroup" data-type="horizontal"><a href="tel:+4936156700" data-role="button" data-inline="true" data-mini="true">&nbsp;&nbsp;anrufen&nbsp;&nbsp;</a><a href="#" data-role="button" data-inline="true" data-mini="true" onClick="var ref = window.open('http://www.excelsior.bestwestern.de', '_blank', 'closebuttoncaption=fertig');">Homepage</a></div>
           
            
<!-- Ausgabe Map -->            
            
            	<div class="ui-bar-c ui-corner-all ui-shadow" style="padding:1em;">
					<input type="hidden" id="end" value="50.973744, 11.035434">
						<div id="geolocationDetails">
							<p align="center">Karte wird geladen...</p>
						</div>
                        <div align="center">
						<a href="#" data-role="button" data-inline="true" data-mini="true" onClick="calculateRoute()">Wegbeschreibung</a>
                        </div>
                        <br>
						<div id="directions"></div>
						<div id="controlPanel">
							<b>Start: </b>
							<select id="start">
							<option id = 'currentLocationOption'>Current Location</option>
							</select>
						</div>
        		</div>

			</div>
            
<!-- Ende Ausgabe Map -->            
            
            
        	<footer id="main-footer">
			<div data-role="navbar">
  				<ul>
        		<li><a data-role="button" data-rel="back" data-direction="reverse">zurück</a></li>
        		<li><a data-role="button" href="#" onClick="var ref = window.open('https://www.facebook.com/ErfurtApp?fref=ts', '_blank', 'closebuttoncaption=fertig');">Facebook</a></li>
        		<li><a href="../../Impressum.html" rel="external">Impressum</a></li>
        		<li><a href="../../index.html" rel="external">home</a></li>
      			</ul>
      		</div>
  			</footer>
        
</div>
		
		
		
	</body>
</html>